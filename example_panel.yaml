    title: TV
    path: ora-in-tv
    cards:
      - type: vertical-stack
        cards:
          - type: markdown
            content: |2
                 **<center>Ora in TV</center>**<center>Ultimo update: {{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'timestamp') }}</center>
                 
                 ---

                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_1', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }
          - type: markdown
            content: |2
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_2', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rai_3', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_rete_4', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_canale_5', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_italia1', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia1', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_la7', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_la7', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_TV8', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_TV8', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_NOVE', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_20', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_iris', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_iris', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }
          - type: markdown
            content: |2
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_Cielo', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_twenty_seven', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_cine34', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_cine34', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; } 
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_focus', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_focus', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }         
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_top_crime', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }         
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_italia_2', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }         
          - type: markdown
            content: |2
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_dmax', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'cover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_dmax', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }    
          - type: markdown
            content: |2-
                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'logo') }}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'category') | replace ('n.d.','' )}} </font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1 ) |replace('.0','')}} min.</font>
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming<img src="{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'cover') | replace ('n.d.','' )}}"/>]({{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'description')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
                 ---
                 A seguire:
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextcategory') | replace ('n.d.','' )}}</font>
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1 ) |replace('.0','')}} min.</font>
                 
                 <img src="{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextcover') | replace ('n.d.','' )}}"/>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_mediaset_extra', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )}} </font>
                 
            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }   
      - type: markdown
        content: >2
           **<center>Stasera in TV</center>**<center>Ultimo update: {{ state_attr('sensor.stasera_in_tv_rai_1', 'timestamp') }} </center>

            ---
            
           <img width="50" width="50" src="https://services.tivulaguida.it/{{ state_attr('sensor.stasera_in_tv_rai_1', 'icon') }}"/> {{ state_attr('sensor.stasera_in_tv_rai_1', 'title') }} 
            {{ state_attr('sensor.stasera_in_tv_rai_1', 'start') }} - {{ state_attr('sensor.stasera_in_tv_rai_1', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_rai_1', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_rai_2', 'icon') }}"/>  {{
          state_attr('sensor.stasera_in_tv_rai_2', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_rai_2', 'start') }} - {{ state_attr('sensor.stasera_in_tv_rai_2', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_rai_2', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_rai_3', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_rai_3', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_rai_3', 'start') }} - {{ state_attr('sensor.stasera_in_tv_rai_3', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_rai_3', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_rete_4', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_rete_4', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_rete_4', 'start') }} - {{ state_attr('sensor.stasera_in_tv_rete_4', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_rete_4', 'duration') }} min.)
           
            ---
            
           <img width="50" src="https://services.tivulaguida.it/{{ state_attr('sensor.stasera_in_tv_canale_5', 'icon') }}"/> {{ state_attr('sensor.stasera_in_tv_canale_5', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_canale_5', 'start') }} - {{ state_attr('sensor.stasera_in_tv_canale_5', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_canale_5', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_italia_1', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_italia_1', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_italia_1', 'start') }} - {{ state_attr('sensor.stasera_in_tv_italia_1', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_italia_1', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_la7', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_la7', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_la7', 'start') }} - {{ state_attr('sensor.stasera_in_tv_la7', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_la7', 'duration') }} min.)
           
            ---
            
           **TV8:** {{ state_attr('sensor.stasera_in_tv_tv8', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_tv8', 'start') }} - {{ state_attr('sensor.stasera_in_tv_tv8', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_tv8', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_nove', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_nove', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_nove', 'start') }} - {{ state_attr('sensor.stasera_in_tv_nove', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_nove', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_iris', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_iris', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_iris', 'start') }} - {{ state_attr('sensor.stasera_in_tv_iris', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_iris', 'duration') }} min.)
           
            ---
             
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_mediaset_extra', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_mediaset_extra', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_mediaset_extra', 'start') }} - {{ state_attr('sensor.stasera_in_tv_mediaset_extra', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_mediaset_extra', 'duration') }} min.)
           
            ---
             
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_cielo', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_cielo', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_cielo', 'start') }} - {{ state_attr('sensor.stasera_in_tv_cielo', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_cielo', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_20_mediaset', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_20_mediaset', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_20_mediaset', 'start') }} - {{ state_attr('sensor.stasera_in_tv_20_mediaset', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_20_mediaset', 'duration') }} min.)
           
            ---
            
           **27Mediaset:** {{ state_attr('sensor.stasera_in_tv_27_twentyseven', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_27_twentyseven', 'start') }} - {{ state_attr('sensor.stasera_in_tv_27_twentyseven', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_27_twentyseven', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_dmax', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_dmax', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_dmax', 'start') }} - {{ state_attr('sensor.stasera_in_tv_dmax', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_dmax', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_focus', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_focus', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_focus', 'start') }} - {{ state_attr('sensor.stasera_in_tv_focus', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_focus', 'duration') }} min.)
           
            ---
             
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.stasera_in_tv_cine34', 'icon') }}"/> {{
          state_attr('sensor.stasera_in_tv_cine34', 'title') }} 
           {{ state_attr('sensor.stasera_in_tv_cine34', 'start') }} - {{ state_attr('sensor.stasera_in_tv_cine34', 'stop') }} ({{ state_attr('sensor.stasera_in_tv_cine34', 'duration') }} min.)
           
        card_mod:
          style: |
            ha-card { --ha-card-header-font-size: 20px;
            border-radius: 10px 10px 10px 10px;
            border-width: 1px; border-color: black;  }  
      - type: markdown
        content: >2
           **<center>Domani in TV</center>**<center>Ultimo update: {{ state_attr('sensor.domani_in_tv_rai_1', 'timestamp') }} </center>

            ---
            
           <img width="50" width="50" src="https://services.tivulaguida.it/{{ state_attr('sensor.domani_in_tv_rai_1', 'icon') }}"/> {{ state_attr('sensor.domani_in_tv_rai_1', 'title') }} 
            {{ state_attr('sensor.domani_in_tv_rai_1', 'start') }} - {{ state_attr('sensor.domani_in_tv_rai_1', 'stop') }} ({{ state_attr('sensor.domani_in_tv_rai_1', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_rai_2', 'icon') }}"/>  {{
          state_attr('sensor.domani_in_tv_rai_2', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_rai_2', 'start') }} - {{ state_attr('sensor.domani_in_tv_rai_2', 'stop') }} ({{ state_attr('sensor.domani_in_tv_rai_2', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_rai_3', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_rai_3', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_rai_3', 'start') }} - {{ state_attr('sensor.domani_in_tv_rai_3', 'stop') }} ({{ state_attr('sensor.domani_in_tv_rai_3', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_rete_4', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_rete_4', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_rete_4', 'start') }} - {{ state_attr('sensor.domani_in_tv_rete_4', 'stop') }} ({{ state_attr('sensor.domani_in_tv_rete_4', 'duration') }} min.)
           
            ---
            
           <img width="50" src="https://services.tivulaguida.it/{{ state_attr('sensor.domani_in_tv_canale_5', 'icon') }}"/> {{ state_attr('sensor.domani_in_tv_canale_5', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_canale_5', 'start') }} - {{ state_attr('sensor.domani_in_tv_canale_5', 'stop') }} ({{ state_attr('sensor.domani_in_tv_canale_5', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_italia_1', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_italia_1', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_italia_1', 'start') }} - {{ state_attr('sensor.domani_in_tv_italia_1', 'stop') }} ({{ state_attr('sensor.domani_in_tv_italia_1', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_la7', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_la7', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_la7', 'start') }} - {{ state_attr('sensor.domani_in_tv_la7', 'stop') }} ({{ state_attr('sensor.domani_in_tv_la7', 'duration') }} min.)
           
            ---
            
           **TV8:** {{ state_attr('sensor.domani_in_tv_tv8', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_tv8', 'start') }} - {{ state_attr('sensor.domani_in_tv_tv8', 'stop') }} ({{ state_attr('sensor.domani_in_tv_tv8', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_nove', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_nove', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_nove', 'start') }} - {{ state_attr('sensor.domani_in_tv_nove', 'stop') }} ({{ state_attr('sensor.domani_in_tv_nove', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_iris', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_iris', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_iris', 'start') }} - {{ state_attr('sensor.domani_in_tv_iris', 'stop') }} ({{ state_attr('sensor.domani_in_tv_iris', 'duration') }} min.)
           
            ---
             
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_mediaset_extra', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_mediaset_extra', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_mediaset_extra', 'start') }} - {{ state_attr('sensor.domani_in_tv_mediaset_extra', 'stop') }} ({{ state_attr('sensor.domani_in_tv_mediaset_extra', 'duration') }} min.)
           
            ---
             
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_cielo', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_cielo', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_cielo', 'start') }} - {{ state_attr('sensor.domani_in_tv_cielo', 'stop') }} ({{ state_attr('sensor.domani_in_tv_cielo', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_20_mediaset', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_20_mediaset', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_20_mediaset', 'start') }} - {{ state_attr('sensor.domani_in_tv_20_mediaset', 'stop') }} ({{ state_attr('sensor.domani_in_tv_20_mediaset', 'duration') }} min.)
           
            ---
            
           **27Mediaset:** {{ state_attr('sensor.domani_in_tv_27_twentyseven', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_27_twentyseven', 'start') }} - {{ state_attr('sensor.domani_in_tv_27_twentyseven', 'stop') }} ({{ state_attr('sensor.domani_in_tv_27_twentyseven', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_dmax', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_dmax', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_dmax', 'start') }} - {{ state_attr('sensor.domani_in_tv_dmax', 'stop') }} ({{ state_attr('sensor.domani_in_tv_dmax', 'duration') }} min.)
           
            ---
            
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_focus', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_focus', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_focus', 'start') }} - {{ state_attr('sensor.domani_in_tv_focus', 'stop') }} ({{ state_attr('sensor.domani_in_tv_focus', 'duration') }} min.)
           
            ---
             
          <img width="50" src="https://services.tivulaguida.it/{{
          state_attr('sensor.domani_in_tv_cine34', 'icon') }}"/> {{
          state_attr('sensor.domani_in_tv_cine34', 'title') }} 
           {{ state_attr('sensor.domani_in_tv_cine34', 'start') }} - {{ state_attr('sensor.domani_in_tv_cine34', 'stop') }} ({{ state_attr('sensor.domani_in_tv_cine34', 'duration') }} min.)
           
        card_mod:
          style: |
            ha-card { --ha-card-header-font-size: 20px;
            border-radius: 10px 10px 10px 10px;
            border-width: 1px; border-color: black;  }
      - type: vertical-stack
        cards:
          - type: markdown
            content: |2+


                 {% set default = "2024-04-12T00:00:00.000000Z" %}
                 {% set defaultresult = (( default | as_datetime - now()).total_seconds() // 60 ) %}
                 
                 
                 <img width='70' src="{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'logo') }}"/>
                
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'title') | replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'date_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'date_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'duration') | replace ('n.d.','' )}} min.)  </font>
                 <font size="2">Iniziato da {{ ((((state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'date_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')|replace('-','')| float(0) / 1)-1) |replace('.0','') }} min.</font>
                 
                 [<ha-icon icon="mdi:play-circle-outline"></ha-icon> Play streaming]({{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'm3u8_link') }})
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'description')| replace ('None','' )| replace ('n.d.','' )| replace ('no info available','' )}} </font>
                 
                 ---
                 A seguire:
                 **{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'nexttitle') | replace ('n.d.','' )| replace ('n.d.','' )}}** 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'nextdate_start') | replace ('n.d.','' )}} - {{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'nextdate_end') | replace ('n.d.','' )}} ({{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'nextduration') | replace ('n.d.','' )}} min.)</font>
                 <font size="2">Inizio tra {{ ((((state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'nextdate_start_tz') |replace ('n.d.',default) | as_datetime - now()).total_seconds() // 60 )|replace(defaultresult,'')| float(0) / 1)+1) |replace('.0','')}} min.</font>
                 
                 <font size="2">{{ state_attr('sensor.ora_e_dopo_in_tv_banco_dei_pugni', 'nextdescription')| replace ('None','' )| replace ('n.d.','' )| replace ('no info available','' ) }} </font>

            card_mod:
              style: |
                ha-card { --ha-card-header-font-size: 20px;
                border-radius: 10px 10px 10px 10px;
                border-width: 1px; border-color: black; }
